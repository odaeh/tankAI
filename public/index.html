<html>
    <head>
        <meta charset="utf-8">
        <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js"></script>
        <script type="text/javascript" src="log.js"></script>
        <script type="text/javascript" src="battle.js"></script>
        <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
        <script type="text/javascript">
        var createBattle = function( result ) {
            var canvas = $("#arena");
            var battle = new Battle(
                canvas[0].getContext("2d"),
                canvas.attr("width"),
                canvas.attr("height"),  
                JSON.parse(result)
            );
            battle.run(); 
        }
        $(document).ready(function() {
            $.get({
                url: "/robots",
                success: createBattle
            });
        });        
        </script>
        <style type="text/css">
            #arena {
                border: 1px solid grey;
            }
        </style>
    </head>
    <body>
        <button id="enable-debug" onclick="triggerDebug();">Trigger debug</button>
        <hr />
        <canvas id="arena" width="600" height="500" style="float:left;"></canvas>
        <pre>
            <div id="debug" style="float: left; width: 200px; padding: 10px;"></div>
        </pre>
    </body>
</html>
